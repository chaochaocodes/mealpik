<%= simple_form_for @recipe, html: {multipart: true} do |f| %><br>

  <% if @recipe.errors.any? %>
    <div id="errors">
      <p>
        Please fix the <%= @recipe.errors.count %> items below:
      </p>
      <ul>
        <% @recipe.errors.full_messages.each do |msg| %>
          <li> <%= msg %> </li>
        <% end %>
      </ul>
    </div>
  <% end %>

    <%= f.input :title, input_html: { class: 'form-control' } %>
    <%= f.input :description, input_html: { class: 'form-control' } %>
    <%= f.input :image, as: :file, input_html: { class: 'form-control'} %>

    <%= f.label :cuisine %> &nbsp
    <%= f.collection_select :cuisine_id, Cuisine.all, :id, :name, :prompt => true %> &nbsp &nbsp
    <%= f.label :meal %> &nbsp
    <%= f.collection_select :meal_id, Meal.all, :id, :meal_type, :prompt => true %><br><br>

    <h3> Ingredients </h3>
    <div class="ingredients">
      <%= f.simple_fields_for :ingredients do |ingredient| %>
        <%= render 'ingredient_fields', f: ingredient %>
      <% end %>
      <%= link_to_add_association 'Add Ingredient', f, :ingredients, class: "btn btn-outline-dark" %>	
    </div>
    
    <h3> Directions </h3>
    <div class="directions">
      <%= f.simple_fields_for :directions do |direction| %>
        <%= render 'direction_fields', f: direction %>
      <% end %>
      <%= link_to_add_association 'Add Step', f, :directions, class: "btn btn-outline-dark" %>	
    </div>

    <%= f.button :submit, class: "btn btn-info" %>
<% end %>

<%= button_to "Back", recipes_path(@recipe), method: :get, class: "btn btn-outline-dark" %>