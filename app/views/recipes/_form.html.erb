<%= simple_form_for @recipe, html: {multipart: true} do |f| %>

  <% if @recipe.errors.any? %>
    <div id="errors">
      <strong>
        Please fix the <%= pluralize(@recipe.errors.count, "item") %> below:
      </strong>
      <ul>
        <% @recipe.errors.full_messages.each do |msg| %>
          <li> <%= msg %> </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.input :title, input_html: { class: 'form-control' } %>
    <%= f.input :description, input_html: { class: 'form-control' } %>
    <%= f.input :image, as: :file %>
    <%= f.label :cuisine %> &nbsp
    <%= f.collection_select :cuisine_id, Cuisine.all, :id, :name, :prompt => true %> &nbsp &nbsp
    <%= f.label :meal %> &nbsp
    <%= f.collection_select :meal_id, Meal.all, :id, :meal_type, :prompt => true %><br><br>
  </div>

    <div>
      <h3>Ingredients:</h3>
      <div id="ingredients">
        <%= f.simple_fields_for :ingredients do |ingredient| %>
          <%= render 'ingredient_fields', f: ingredient %>
        <% end %>

        <div class="links">
          <%= link_to_add_association 'add ingredient', f, :ingredients, class: "btn btn-outline-dark" %>
        </div>
      </div>
    </div>

    <div>  
      <h3> Directions: </h3>
      <div id="directions">
        <%= f.simple_fields_for :directions do |direction| %>
          <%= render 'direction_fields', f: direction %>
        <% end %>
        <div class='links'>
          <%= link_to_add_association 'Add Step', f, :directions, class: "btn btn-outline-dark" %>	
        </div>
      </div>
    </div> 

    <%= f.button :submit, class: "btn btn-info"  %>
<% end %>

<%= button_to "Back", recipes_path(@recipe), method: :get, class: "btn btn-outline-dark" %>